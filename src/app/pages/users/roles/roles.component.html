<div class="d-flex flex-column flex-lg-row">
  <div class="flex-lg-row-fluid ms-lg-2 ms-xl-2">
    <div class="card mb-5 mb-xl-10">
      <div class="card-header border-0 cursor-pointer  " role="button" data-bs-toggle="collapse"
        data-bs-target="#kt_account_profile_details" aria-expanded="true" aria-controls="kt_account_profile_details">
        <div class="card-title m-0">
          <h3 class="fw-bolder m-0" translate="USER_MGMT.ROLES.PANEL.HEADER"> </h3>
        </div>
      </div>
      <div id="kt_account_profile_details" class="collapse show">
        <form id="kt_modal_add_role_form" class="form col-xl-12" [formGroup]="roleFormGroup">
          <div class="card-body border-top p-9">

            <div class="row">
              <!--begin::Scroll-->
              <div class="d-flex flex-column scroll-y me-n7 pe-7 col-xl-12" id="kt_modal_add_role_scroll"
                data-kt-scroll="true" data-kt-scroll-activate="{default: false, lg: true}"
                data-kt-scroll-max-height="auto" data-kt-scroll-dependencies="#kt_modal_add_role_header"
                data-kt-scroll-wrappers="#kt_modal_add_role_scroll" data-kt-scroll-offset="300px">
                <!--begin::Input group-->
                <div class="fv-row mb-10">
                  <!--begin::Input-->
                  <label class="form-label fw-bolder text-dark fs-6"
                    translate>{{ 'USER_MGMT.ROLES.PANEL.NAME_PLACE_HOLDER' | translate }}
                  </label>
                  <input class="form-control form-control-lg form-control-solid" type="text" name="roleName"
                    formControlName="roleName" placeholder="{{ 'USER_MGMT.ROLES.PANEL.NAME_PLACE_HOLDER' | translate }}"
                    autocomplete="off" [ngClass]="{
                    
                  }" />


                  <!--end::Input-->
                </div>
                <div class="fv-row mb-10">
                  <label class="form-label fw-bolder text-dark fs-6" translate>
                    {{ 'USER_MGMT.ROLES.PANEL.STATUS' | translate }}
                  </label>

                  <mat-slide-toggle formControlName="isDisabled">
                    <!-- <mat-label *ngIf="!roleFormGroup.controls['isDisabled'].value">Enabled</mat-label>
                    <mat-label *ngIf="roleFormGroup.controls['isDisabled'].value">Disabled</mat-label> -->

                  </mat-slide-toggle>
                </div>
                <!--end::Input group-->
                <!--begin::Permissions-->
                <div class="fv-row">
                  <!--begin::Label-->
                  <label class="fs-5 fw-bolder form-label mb-2" translate>
                    {{ 'USER_MGMT.ROLES.PANEL.NAME_PLACE_HOLDER' | translate }}
                  </label>
                  <!--end::Label-->
                  <!--begin::Table wrapper-->
                  <div class="table-responsive">
                    <!--begin::Table-->
                    <table class="table align-middle table-row-bordered fs-6 gy-5">
                      <!--begin::Table body-->
                      <tbody class="text-gray-600 fw-bold" formArrayName="permissionsGroup">
                        <!--begin::Table row-->
                        <tr *ngFor="let t of permissionGroupFormArray()?.controls; let i = index;let last = last"
                          [formGroupName]="i">

                          <!-- <tr *ngFor="let group of permissionGroups"> -->
                          <!--begin::Label-->

                          <td class="text-gray-800" translate>
                            USER_MGMT.ROLES.PANEL.{{t.get('permissionGroup')?.value?.toUpperCase()}}
                          </td>
                          <!--end::Label-->
                          <!--begin::Options-->
                          <td formArrayName="permissions">
                            <!--begin::Wrapper-->
                            <div class="d-flex">
                              <!--begin::Checkbox-->
                              <label class="form-check form-check-sm form-check-custom form-check-solid me-5 me-lg-20"
                                *ngFor="let p of permissionFormArray(i)?.controls let j = index;let last = last"
                                [formGroupName]="j">
                                <input class="form-check-input" type="checkbox" value="" name="user_management_read"
                                  formControlName="checked">
                                <span class="form-check-label" translate>
                                  USER_MGMT.ROLES.PANEL.{{p.get('permissionName')?.value?.toUpperCase()}}
                                </span>
                              </label>
                              <!--end::Checkbox-->

                            </div>
                            <!--end::Wrapper-->
                          </td>

                          <!--end::Options-->
                        </tr>

                        <!--end::Table row-->
                      </tbody>
                      <!--end::Table body-->
                    </table>
                    <!--end::Table-->
                  </div>
                  <!--end::Table wrapper-->
                </div>
                <!--end::Permissions-->
              </div>
              <!--end::Scroll-->

            </div>
          </div>
          <div class="card-footer d-flex justify-content-end py-6 px-9">
            <ng-container>
              <span clas="indicator-progress" [style.display]="'block'">
                {{ 'USER_MGMT.ROLES.PANEL.WAIT' | translate }}
                <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
              </span>
            </ng-container>
            <button type="button" class="btn btn-success  btn-sm cursor-pointer me-3">
              <ng-container> {{ 'USER_MGMT.ROLES.PANEL.SAVE' | translate }}</ng-container>

            </button>
            <button class="btn btn-danger btn-sm cursor-pointer me-3">
              {{ 'USER_MGMT.ROLES.PANEL.DELETE_ROLE' | translate }}
            </button>


            <button class="btn btn-light btn-sm ms-2 me-3">
              {{ 'USER_MGMT.ROLES.PANEL.NEW' | translate }}
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<ng-template #formError let-control="control" let-message="message" let-validation="validation">
  <ng-container *ngIf="control.hasError(validation) && (control.dirty || control.touched)">
    <div class="fv-plugins-message-container">
      <div class="fv-help-block">
        <span role="alert">
          {{ message }}
        </span>
      </div>
    </div>
  </ng-container>
</ng-template>
